{
  "info": {
    "name": "iTrack.iWin FlutterFlow API",
    "description": "Simplified API endpoints for FlutterFlow mobile app integration",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{jwt_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "https://fsayiuhncisevhipbrak.supabase.co/functions/v1/flutterflow-api",
      "type": "string"
    },
    {
      "key": "jwt_token",
      "value": "your_jwt_token_here",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication & Profile",
      "item": [
        {
          "name": "Get User Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/profile",
              "host": ["{{base_url}}"],
              "path": ["profile"]
            }
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "url": "{{base_url}}/profile"
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"user-uuid\",\n    \"displayName\": \"John Doe\",\n    \"avatarUrl\": \"https://example.com/avatar.jpg\",\n    \"bio\": \"Fitness enthusiast\",\n    \"isPublic\": true\n  }\n}"
            }
          ]
        },
        {
          "name": "Update User Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"displayName\": \"John Doe\",\n  \"avatarUrl\": \"https://example.com/new-avatar.jpg\",\n  \"bio\": \"Passionate about fitness and health\",\n  \"isPublic\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/profile",
              "host": ["{{base_url}}"],
              "path": ["profile"]
            }
          }
        }
      ]
    },
    {
      "name": "Onboarding",
      "item": [
        {
          "name": "Get Experience Levels",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/onboarding/experience-levels",
              "host": ["{{base_url}}"],
              "path": ["onboarding", "experience-levels"]
            }
          },
          "response": [
            {
              "name": "Experience Levels",
              "originalRequest": {
                "method": "GET",
                "url": "{{base_url}}/onboarding/experience-levels"
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"beginner\",\n      \"name\": \"Beginner\",\n      \"description\": \"0-6 months of training experience\",\n      \"minTrainingMonths\": 0\n    },\n    {\n      \"id\": \"intermediate\",\n      \"name\": \"Intermediate\",\n      \"description\": \"6-24 months of training experience\",\n      \"minTrainingMonths\": 6\n    },\n    {\n      \"id\": \"advanced\",\n      \"name\": \"Advanced\",\n      \"description\": \"2+ years of training experience\",\n      \"minTrainingMonths\": 24\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Create Fitness Profile",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sex\": \"male\",\n  \"age\": 28,\n  \"heightCm\": 180,\n  \"weightKg\": 75,\n  \"activityLevel\": \"moderate\",\n  \"experienceLevel\": \"intermediate\",\n  \"primaryGoal\": \"strength\",\n  \"availableDaysPerWeek\": 4,\n  \"sessionDurationMinutes\": 75,\n  \"injuries\": [\"lower_back\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/onboarding/fitness-profile",
              "host": ["{{base_url}}"],
              "path": ["onboarding", "fitness-profile"]
            }
          }
        },
        {
          "name": "Set Muscle Priorities",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priorities\": [\n    {\n      \"muscleGroupId\": \"chest\",\n      \"priorityLevel\": \"high\"\n    },\n    {\n      \"muscleGroupId\": \"legs\",\n      \"priorityLevel\": \"medium\"\n    },\n    {\n      \"muscleGroupId\": \"back\",\n      \"priorityLevel\": \"high\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/onboarding/muscle-priorities",
              "host": ["{{base_url}}"],
              "path": ["onboarding", "muscle-priorities"]
            }
          }
        }
      ]
    },
    {
      "name": "Workout Templates",
      "item": [
        {
          "name": "Get Templates",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/templates?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["templates"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            }
          },
          "response": [
            {
              "name": "Templates List",
              "originalRequest": {
                "method": "GET",
                "url": "{{base_url}}/templates?page=1&limit=20"
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"template-uuid-1\",\n      \"name\": \"Push Day\",\n      \"description\": \"Chest, shoulders, and triceps workout\",\n      \"exerciseCount\": 6,\n      \"isPublic\": false,\n      \"createdAt\": \"2024-01-15T10:30:00Z\",\n      \"exercises\": [\n        {\n          \"id\": \"exercise-uuid-1\",\n          \"name\": \"Bench Press\",\n          \"defaultSets\": 3,\n          \"targetReps\": 8\n        },\n        {\n          \"id\": \"exercise-uuid-2\",\n          \"name\": \"Overhead Press\",\n          \"defaultSets\": 3,\n          \"targetReps\": 10\n        }\n      ]\n    }\n  ],\n  \"pagination\": {\n    \"page\": 1,\n    \"limit\": 20,\n    \"total\": 5,\n    \"hasMore\": false\n  }\n}"
            }
          ]
        },
        {
          "name": "Generate Template",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"targetSessions\": 3,\n  \"sessionDuration\": 60,\n  \"equipmentAvailable\": [\"barbell\", \"dumbbells\", \"machine\"],\n  \"focusAreas\": [\"strength\", \"hypertrophy\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/templates/generate",
              "host": ["{{base_url}}"],
              "path": ["templates", "generate"]
            }
          }
        }
      ]
    },
    {
      "name": "Workout Session",
      "item": [
        {
          "name": "Start Workout Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"templateId\": \"template-uuid\",\n  \"readinessData\": {\n    \"energy\": 7,\n    \"sleepQuality\": 8,\n    \"sleepHours\": 7.5,\n    \"soreness\": 3,\n    \"stress\": 4,\n    \"illness\": false,\n    \"alcohol\": false\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/session/start",
              "host": ["{{base_url}}"],
              "path": ["session", "start"]
            }
          }
        },
        {
          "name": "Get Current Session",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/session/current",
              "host": ["{{base_url}}"],
              "path": ["session", "current"]
            }
          },
          "response": [
            {
              "name": "Active Session",
              "originalRequest": {
                "method": "GET",
                "url": "{{base_url}}/session/current"
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"workout-uuid\",\n    \"title\": \"Push Day\",\n    \"startedAt\": \"2024-01-15T14:30:00Z\",\n    \"exercises\": [\n      {\n        \"id\": \"we-uuid-1\",\n        \"exerciseId\": \"exercise-uuid-1\",\n        \"exerciseName\": \"Bench Press\",\n        \"orderIndex\": 1,\n        \"completedSets\": 2,\n        \"totalSets\": 3,\n        \"lastSet\": {\n          \"weight\": 80,\n          \"reps\": 8\n        }\n      },\n      {\n        \"id\": \"we-uuid-2\",\n        \"exerciseId\": \"exercise-uuid-2\",\n        \"exerciseName\": \"Overhead Press\",\n        \"orderIndex\": 2,\n        \"completedSets\": 0,\n        \"totalSets\": 3,\n        \"lastSet\": null\n      }\n    ]\n  }\n}"
            }
          ]
        },
        {
          "name": "Log Set",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"workoutExerciseId\": \"we-uuid\",\n  \"weight\": 82.5,\n  \"reps\": 8,\n  \"rpe\": 7.5,\n  \"notes\": \"Felt strong today\",\n  \"weightUnit\": \"kg\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/session/log-set",
              "host": ["{{base_url}}"],
              "path": ["session", "log-set"]
            }
          }
        },
        {
          "name": "End Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"workoutId\": \"workout-uuid\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/session/end",
              "host": ["{{base_url}}"],
              "path": ["session", "end"]
            }
          }
        }
      ]
    },
    {
      "name": "Exercises",
      "item": [
        {
          "name": "Search Exercises",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/exercises/search?q=bench&muscle_group=chest&page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["exercises", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "bench",
                  "description": "Search term"
                },
                {
                  "key": "muscle_group",
                  "value": "chest",
                  "description": "Filter by muscle group"
                },
                {
                  "key": "equipment",
                  "value": "",
                  "description": "Filter by equipment",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          },
          "response": [
            {
              "name": "Exercise Search Results",
              "originalRequest": {
                "method": "GET",
                "url": "{{base_url}}/exercises/search?q=bench&muscle_group=chest&page=1&limit=10"
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"exercise-uuid-1\",\n      \"name\": \"Barbell Bench Press\",\n      \"description\": \"Lie on bench and press barbell from chest\",\n      \"imageUrl\": \"https://example.com/bench-press.jpg\",\n      \"bodyPart\": \"upper_body\",\n      \"muscleGroup\": \"Chest\",\n      \"equipment\": \"Barbell\"\n    },\n    {\n      \"id\": \"exercise-uuid-2\",\n      \"name\": \"Dumbbell Bench Press\",\n      \"description\": \"Press dumbbells while lying on bench\",\n      \"imageUrl\": \"https://example.com/db-bench.jpg\",\n      \"bodyPart\": \"upper_body\",\n      \"muscleGroup\": \"Chest\",\n      \"equipment\": \"Dumbbells\"\n    }\n  ],\n  \"pagination\": {\n    \"page\": 1,\n    \"limit\": 10,\n    \"total\": 15,\n    \"hasMore\": true\n  }\n}"
            }
          ]
        },
        {
          "name": "Get Exercise Alternatives",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"exerciseId\": \"bench-press-uuid\",\n  \"reason\": \"equipment_unavailable\",\n  \"availableEquipment\": [\"dumbbells\", \"cables\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/exercises/alternatives",
              "host": ["{{base_url}}"],
              "path": ["exercises", "alternatives"]
            }
          }
        },
        {
          "name": "Get All Exercises",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/exercises?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["exercises"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Gym & Location",
      "item": [
        {
          "name": "Detect Nearby Gyms",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latitude\": 40.7128,\n  \"longitude\": -74.0060,\n  \"radius\": 1000\n}"
            },
            "url": {
              "raw": "{{base_url}}/gyms/detect",
              "host": ["{{base_url}}"],
              "path": ["gyms", "detect"]
            }
          }
        },
        {
          "name": "Search Gyms",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/gyms/search?q=fitness&city=New York&page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["gyms", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "fitness",
                  "description": "Search term"
                },
                {
                  "key": "city",
                  "value": "New York",
                  "description": "Filter by city"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Progress & Analytics",
      "item": [
        {
          "name": "Get Progress Summary",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/progress/summary",
              "host": ["{{base_url}}"],
              "path": ["progress", "summary"]
            }
          },
          "response": [
            {
              "name": "Progress Summary",
              "originalRequest": {
                "method": "GET",
                "url": "{{base_url}}/progress/summary"
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"success\": true,\n  \"data\": {\n    \"totalWorkouts\": 45,\n    \"thisWeekWorkouts\": 3,\n    \"recentPRs\": [\n      {\n        \"exerciseName\": \"Bench Press\",\n        \"type\": \"1RM\",\n        \"value\": 100,\n        \"achievedAt\": \"2024-01-15T16:00:00Z\"\n      },\n      {\n        \"exerciseName\": \"Squat\",\n        \"type\": \"heaviest\",\n        \"value\": 120,\n        \"achievedAt\": \"2024-01-14T15:30:00Z\"\n      }\n    ]\n  }\n}"
            }
          ]
        },
        {
          "name": "Get Exercise History",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/progress/exercise-history?exercise_id=bench-press-uuid&page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["progress", "exercise-history"],
              "query": [
                {
                  "key": "exercise_id",
                  "value": "bench-press-uuid",
                  "description": "Required: Exercise ID"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            }
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-set timestamp for requests that need it",
          "pm.globals.set('timestamp', new Date().toISOString());"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Validate response structure",
          "pm.test('Response has success field', function () {",
          "    const jsonData = pm.response.json();",
          "    pm.expect(jsonData).to.have.property('success');",
          "});",
          "",
          "pm.test('Successful response has data', function () {",
          "    const jsonData = pm.response.json();",
          "    if (jsonData.success) {",
          "        pm.expect(jsonData).to.have.property('data');",
          "    }",
          "});",
          "",
          "pm.test('Failed response has error message', function () {",
          "    const jsonData = pm.response.json();",
          "    if (!jsonData.success) {",
          "        pm.expect(jsonData).to.have.property('error');",
          "    }",
          "});"
        ]
      }
    }
  ]
}